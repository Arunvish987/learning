<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <link rel="stylesheet" href="style.css">    
    <title>Tic Tac Toe</title>

</head>
<body>
    <h2 class="text-center my-4">Tic Tac Toe</h2>

    <div class="gamecontainer">
        <div class="container">
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
            <div class="box"><span class='boxtext'></span></div>
        </div>
        <div class="gameinfo">
            <!-- <h1>Welcome to tik tac toe</h1> -->
            <div>
                <span class="info" style="font-size: 34px;">Turn for X</span><br>
                <button id='reset' class="my-3">Reset</button>
            </div>
        </div>
    </div>
</body>
<script>
    console.log('welcome')
    let turn = 'X'
    let isGameOver = false
    let draw = false
    let count = 0

    const changeTurn = ()=>{
        return turn === 'X'? '0': 'X'
    }

    const checkWin = ()=>{
        let boxtexts = document.getElementsByClassName('boxtext') 
        let wins = [
            [0,1,2],
            [3,4,5],
            [6,7,8],
            [0,3,6],
            [1,4,7],
            [2,5,8],
            [0,4,8],
            [2,4,6],
        ]
        // wins.forEach(e => {
        //     console.log('wins---', boxtexts[e[0]],e[1],e[2], e)
        //     console.log('wins---', boxtexts[e[1]])
        //     console.log('wins---', boxtexts[e[2]])

        // })
        wins.forEach(e =>{
            if ((boxtexts[e[0]].innerText===boxtexts[e[1]].innerText) && (boxtexts[e[2]].innerText === boxtexts[e[1]].innerText) && (boxtexts[e[0]].innerText !=='') ){
                document.querySelector('.info').innerText = boxtexts[e[0]].innerText + ' WON'
                isGameOver = true
                console.log(boxtexts[e[0]].innerText)
                console.log(boxtexts[e[1]].innerText)
                console.log(boxtexts[e[2]].innerText)
            }
        })

    }

    let boxes = document.getElementsByClassName('box')
    Array.from(boxes).forEach(element => {
        let boxtext = element.querySelector('.boxtext')
        element.addEventListener('click', ()=>{
            if(boxtext.innerText === ''){
                console.log('boxtext----',boxtext)
                boxtext.innerText = turn
                turn = changeTurn()
                checkWin()
                if (!isGameOver){
                    document.getElementsByClassName('info')[0].innerText = 'Turn for ' + turn
                    draw = true
                }

            }
        })
    });


    reset.addEventListener('click', ()=>{
        let boxtext = document.querySelectorAll('.boxtext')
        Array.from(boxtext).forEach(element => {
            element.innerText = ''
        })
        turn = 'X'
        isGameOver = false
        document.getElementsByClassName('info')[0].innerText = 'Turn for ' + turn 
    })
</script>
</html>